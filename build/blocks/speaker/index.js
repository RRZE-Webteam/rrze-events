(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,r=window.wp.i18n,s=window.wp.blockEditor,n=window.wp.components,l=window.wp.serverSideRender;var o=e.n(l);const a=window.wp.data,i=window.wp.element,c=JSON.parse('{"UU":"rrze-events/speaker"}'),d=window.ReactJSXRuntime,p=(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:(0,d.jsx)("path",{d:"M96 128a128 128 0 1 0 256 0A128 128 0 1 0 96 128zm94.5 200.2l18.6 31L175.8 483.1l-36-146.9c-2-8.1-9.8-13.4-17.9-11.3C51.9 342.4 0 405.8 0 481.3c0 17 13.8 30.7 30.7 30.7l131.7 0c0 0 0 0 .1 0l5.5 0 112 0 5.5 0c0 0 0 0 .1 0l131.7 0c17 0 30.7-13.8 30.7-30.7c0-75.5-51.9-138.9-121.9-156.4c-8.1-2-15.9 3.3-17.9 11.3l-36 146.9L238.9 359.2l18.6-31c6.4-10.7-1.3-24.2-13.7-24.2L224 304l-19.7 0c-12.4 0-20.1 13.6-13.7 24.2z"})});(0,t.registerBlockType)(c.UU,{icon:p,edit:({attributes:e,setAttributes:t})=>{const l=(0,s.useBlockProps)(),{numSpeakers:c}=e,[p,u]=(0,i.useState)(e.layout||"grid"),[v,_]=(0,i.useState)(e.orderBy||"lastname"),[x,w]=(0,i.useState)(e.selectedCategories||[]),[m,g]=(0,i.useState)(e.selectedSpeakers||[]),b=(0,a.useSelect)((e=>e("core").getEntityRecords("taxonomy","speaker_category",{per_page:-1})||[]),[]),h=b?b.map((e=>({label:e.name,value:e.slug}))):[],j=(0,a.useSelect)((e=>e("core").getEntityRecords("postType","speaker")||[]),[]),y=j?j.map((e=>({label:e.title.rendered,value:e.id}))):[];return(0,d.jsxs)("div",{...l,children:[(0,d.jsxs)(s.InspectorControls,{children:[(0,d.jsxs)(n.PanelBody,{title:(0,r.__)("Layout","rrze-events"),children:[(0,d.jsx)(n.RadioControl,{label:(0,r.__)("Layout","rrze-events"),selected:p,options:[{label:(0,r.__)("Grid","rrze-events"),value:"grid"},{label:(0,r.__)("List","rrze-events"),value:"list"}],onChange:e=>{u(e),t({layout:e})}}),(0,d.jsx)(n.RadioControl,{label:(0,r.__)("Order","rrze-events"),selected:v,options:[{label:(0,r.__)("Last Name","rrze-events"),value:"lastname"},{label:(0,r.__)("First Name","rrze-events"),value:"firstname"}],onChange:e=>{_(e),t({orderBy:e})}})]}),(0,d.jsxs)(n.PanelBody,{title:(0,r.__)("Select Speakers","rrze-events"),children:[(0,d.jsx)(n.TextControl,{label:(0,r.__)("Count","rrze-events"),type:"number",value:c,onChange:e=>{const r=parseInt(e,10);!isNaN(r)&&r>=-1?t({numSpeakers:r}):t({numSpeakers:""})},help:(0,r.__)("How many speakers do you want to show? Enter -1 for all speakers.","rrze-events")}),(0,d.jsx)("hr",{}),(0,d.jsx)(n.ComboboxControl,{label:(0,r.__)("Categories","rrze-events"),options:h,onChange:e=>{if(!x.includes(e)){const r=[...x,e];w(r),t({selectedCategories:r})}}}),(0,d.jsxs)("div",{style:{marginTop:"10px"},children:[(0,d.jsxs)("strong",{children:[(0,r.__)("Selected Categories","rrze-events"),":"]}),(0,d.jsx)("ul",{children:x.map((e=>{const s=b.find((t=>t.slug===e));return(0,d.jsxs)("li",{children:[s?.name,(0,d.jsx)("button",{onClick:()=>(e=>{const r=x.filter((t=>t!==e));w(r),t({selectedCategories:r})})(e),style:{marginLeft:"5px"},children:(0,r.__)("Remove","rrze-events")})]},e)}))})]}),(0,d.jsx)("hr",{}),(0,d.jsx)(n.ComboboxControl,{label:(0,r.__)("Speakers","rrze-events"),options:y,onChange:e=>{if(!m.includes(e)){const r=[...m,e];g(r),t({selectedSpeakers:r})}}}),(0,d.jsxs)("div",{style:{marginTop:"10px"},children:[(0,d.jsxs)("strong",{children:[(0,r.__)("Selected Speakers","rrze-events"),":"]}),(0,d.jsx)("ul",{children:m.map((e=>{const s=j.find((t=>t.id===e));return(0,d.jsxs)("li",{children:[s?.title.rendered,(0,d.jsx)("button",{onClick:()=>(e=>{const r=m.filter((t=>t!==e));g(r),t({selectedSpeakers:r})})(e),style:{marginLeft:"5px"},children:(0,r.__)("Remove","rrze-events")})]},e)}))})]})]})]}),(0,d.jsx)(o(),{block:"rrze-events/speaker",attributes:e})]})},save:function(){return null}})})();